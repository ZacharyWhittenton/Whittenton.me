{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../core/services/auth.service\";\nimport * as i3 from \"../../services/scheduler.service\";\nimport * as i4 from \"@angular/common\";\nfunction MeetingFormComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \" Title is required (min 3 chars). \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MeetingFormComponent_label_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 20)(1, \"input\", 21);\n    i0.ɵɵlistener(\"change\", function MeetingFormComponent_label_33_Template_input_change_1_listener($event) {\n      const u_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onToggleParticipant(u_r2.email, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"span\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const u_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", u_r2.email)(\"checked\", ctx_r2.isSelected(u_r2.email));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", u_r2.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", u_r2.email, \")\");\n  }\n}\nfunction MeetingFormComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nfunction MeetingFormComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.success, \" \");\n  }\n}\nexport class MeetingFormComponent {\n  constructor(fb, auth, scheduler) {\n    this.fb = fb;\n    this.auth = auth;\n    this.scheduler = scheduler;\n    this.created = new EventEmitter();\n    this.updated = new EventEmitter();\n    this.me = null;\n    this.users = [];\n    this.error = '';\n    this.success = '';\n    this.form = this.fb.group({\n      id: [''],\n      title: ['', [Validators.required, Validators.minLength(3)]],\n      description: [''],\n      date: ['', Validators.required],\n      startTime: ['', Validators.required],\n      endTime: ['', Validators.required],\n      location: [''],\n      onlineLink: [''],\n      participants: [[]] // emails\n    });\n  }\n  ngOnInit() {\n    this.auth.user$.subscribe(u => {\n      this.me = u;\n      this.users = this.auth.listUsers();\n      // include me by default\n      if (u && this.participantsValue().length === 0) {\n        this.form.controls.participants.setValue([u.email]);\n      }\n    });\n  }\n  // ----- helpers for participants control -----\n  participantsValue() {\n    return this.form.controls.participants.value ?? [];\n  }\n  isSelected(email) {\n    return this.participantsValue().includes(email);\n  }\n  onToggleParticipant(email, event) {\n    const checked = event.target?.checked ?? false;\n    const list = [...this.participantsValue()];\n    if (checked) {\n      if (!list.includes(email)) list.push(email);\n    } else {\n      const idx = list.indexOf(email);\n      if (idx >= 0) list.splice(idx, 1);\n    }\n    this.form.controls.participants.setValue(list);\n  }\n  // -------------------------------------------\n  submit() {\n    this.error = '';\n    this.success = '';\n    if (!this.me) {\n      this.error = 'Not authenticated.';\n      return;\n    }\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n    const v = this.form.getRawValue();\n    const start = isoFrom(v.date, v.startTime);\n    const end = isoFrom(v.date, v.endTime);\n    const payload = {\n      title: v.title.trim(),\n      description: v.description?.trim() || '',\n      start,\n      end,\n      location: v.location?.trim() || null,\n      onlineLink: v.onlineLink?.trim() || null,\n      participants: this.participantsValue().length ? this.participantsValue() : [this.me.email],\n      createdBy: this.me.email\n    };\n    const res = this.scheduler.create(payload);\n    if (!res.ok) {\n      this.error = res.error || 'Failed to create meeting.';\n      return;\n    }\n    this.success = 'Meeting scheduled.';\n    this.form.reset({\n      participants: [this.me.email]\n    });\n    this.created.emit();\n  }\n  static {\n    this.ɵfac = function MeetingFormComponent_Factory(t) {\n      return new (t || MeetingFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.SchedulerService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MeetingFormComponent,\n      selectors: [[\"app-meeting-form\"]],\n      outputs: {\n        created: \"created\",\n        updated: \"updated\"\n      },\n      decls: 45,\n      vars: 5,\n      consts: [[1, \"rounded-xl\", \"border\", \"p-4\"], [1, \"text-lg\", \"font-semibold\", \"mb-3\"], [\"novalidate\", \"\", 1, \"grid\", \"gap-4\", \"md:grid-cols-2\", 3, \"ngSubmit\", \"formGroup\"], [1, \"md:col-span-2\"], [1, \"block\", \"text-sm\", \"font-medium\", \"mb-1\"], [\"type\", \"text\", \"formControlName\", \"title\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [\"class\", \"text-sm text-red-600\", 4, \"ngIf\"], [\"type\", \"date\", \"formControlName\", \"date\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [\"type\", \"time\", \"formControlName\", \"startTime\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [\"type\", \"time\", \"formControlName\", \"endTime\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [\"type\", \"text\", \"formControlName\", \"location\", \"placeholder\", \"e.g., Room A\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [\"type\", \"url\", \"formControlName\", \"onlineLink\", \"placeholder\", \"https://\\u2026\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [1, \"grid\", \"sm:grid-cols-2\", \"md:grid-cols-3\", \"gap-2\"], [\"class\", \"flex items-center gap-2 text-sm border rounded-lg p-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-xs\", \"text-gray-500\", \"mt-1\"], [\"rows\", \"3\", \"formControlName\", \"description\", 1, \"w-full\", \"border\", \"rounded-lg\", \"px-3\", \"py-2\"], [\"class\", \"md:col-span-2 rounded-md border border-red-200 bg-red-50 p-3 text-red-700\", 4, \"ngIf\"], [\"class\", \"md:col-span-2 rounded-md border border-green-200 bg-green-50 p-3 text-green-800\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"rounded-lg\", \"bg-black\", \"text-white\", \"px-4\", \"py-2\"], [1, \"text-sm\", \"text-red-600\"], [1, \"flex\", \"items-center\", \"gap-2\", \"text-sm\", \"border\", \"rounded-lg\", \"p-2\"], [\"type\", \"checkbox\", 3, \"change\", \"value\", \"checked\"], [1, \"text-gray-500\"], [1, \"md:col-span-2\", \"rounded-md\", \"border\", \"border-red-200\", \"bg-red-50\", \"p-3\", \"text-red-700\"], [1, \"md:col-span-2\", \"rounded-md\", \"border\", \"border-green-200\", \"bg-green-50\", \"p-3\", \"text-green-800\"]],\n      template: function MeetingFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Schedule a meeting\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function MeetingFormComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n          i0.ɵɵtext(6, \"Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 5);\n          i0.ɵɵtemplate(8, MeetingFormComponent_div_8_Template, 2, 0, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\")(10, \"label\", 4);\n          i0.ɵɵtext(11, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\")(14, \"label\", 4);\n          i0.ɵɵtext(15, \"Start\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"input\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\")(18, \"label\", 4);\n          i0.ɵɵtext(19, \"End\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"input\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\")(22, \"label\", 4);\n          i0.ɵɵtext(23, \"Location\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(24, \"input\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\")(26, \"label\", 4);\n          i0.ɵɵtext(27, \"Online link\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(28, \"input\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 3)(30, \"label\", 4);\n          i0.ɵɵtext(31, \"Participants\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"div\", 12);\n          i0.ɵɵtemplate(33, MeetingFormComponent_label_33_Template, 6, 4, \"label\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"p\", 14);\n          i0.ɵɵtext(35, \"You\\u2019re automatically included when creating a meeting.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(36, \"div\", 3)(37, \"label\", 4);\n          i0.ɵɵtext(38, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(39, \"textarea\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(40, MeetingFormComponent_div_40_Template, 2, 1, \"div\", 16)(41, MeetingFormComponent_div_41_Template, 2, 1, \"div\", 17);\n          i0.ɵɵelementStart(42, \"div\", 3)(43, \"button\", 18);\n          i0.ɵɵtext(44, \"Create meeting\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.controls.title.touched && ctx.form.controls.title.invalid);\n          i0.ɵɵadvance(25);\n          i0.ɵɵproperty(\"ngForOf\", ctx.users);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.success);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtZWV0aW5nLWZvcm0uY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvc2NoZWR1bGVyL2NvbXBvbmVudHMvbWVldGluZy1mb3JtL21lZXRpbmctZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSx3S0FBd0siLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}\n/* helpers */\nfunction isoFrom(date, time) {\n  const [h, m] = time.split(':').map(Number);\n  const d = new Date(date);\n  d.setHours(h, m, 0, 0);\n  const yyyy = d.getFullYear();\n  const mm = String(d.getMonth() + 1).padStart(2, '0');\n  const dd = String(d.getDate()).padStart(2, '0');\n  const hh = String(d.getHours()).padStart(2, '0');\n  const mi = String(d.getMinutes()).padStart(2, '0');\n  return `${yyyy}-${mm}-${dd}T${hh}:${mi}:00`;\n}","map":{"version":3,"names":["EventEmitter","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MeetingFormComponent_label_33_Template_input_change_1_listener","$event","u_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","onToggleParticipant","email","ɵɵadvance","ɵɵproperty","isSelected","ɵɵtextInterpolate1","name","error","success","MeetingFormComponent","constructor","fb","auth","scheduler","created","updated","me","users","form","group","id","title","required","minLength","description","date","startTime","endTime","location","onlineLink","participants","ngOnInit","user$","subscribe","u","listUsers","participantsValue","length","controls","setValue","value","includes","event","checked","target","list","push","idx","indexOf","splice","submit","invalid","markAllAsTouched","v","getRawValue","start","isoFrom","end","payload","trim","createdBy","res","create","ok","reset","emit","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","SchedulerService","selectors","outputs","decls","vars","consts","template","MeetingFormComponent_Template","rf","ctx","MeetingFormComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵtemplate","MeetingFormComponent_div_8_Template","MeetingFormComponent_label_33_Template","MeetingFormComponent_div_40_Template","MeetingFormComponent_div_41_Template","touched","time","h","m","split","map","Number","d","Date","setHours","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","hh","getHours","mi","getMinutes"],"sources":["/Users/zaq/Documents/GitHub/Angular-APWU/src/app/features/scheduler/components/meeting-form/meeting-form.component.ts","/Users/zaq/Documents/GitHub/Angular-APWU/src/app/features/scheduler/components/meeting-form/meeting-form.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AuthService, User } from '../../../../core/services/auth.service';\nimport { SchedulerService } from '../../services/scheduler.service';\n\n@Component({\n  selector: 'app-meeting-form',\n  templateUrl: './meeting-form.component.html',\n  styleUrls: ['./meeting-form.component.css'],\n})\nexport class MeetingFormComponent implements OnInit {\n  @Output() created = new EventEmitter<void>();\n  @Output() updated = new EventEmitter<void>();\n\n  me: User | null = null;\n  users: User[] = [];\n\n  error = '';\n  success = '';\n\n  form = this.fb.group({\n    id: [''],\n    title: ['', [Validators.required, Validators.minLength(3)]],\n    description: [''],\n    date: ['', Validators.required],      // yyyy-mm-dd\n    startTime: ['', Validators.required], // HH:mm\n    endTime: ['', Validators.required],   // HH:mm\n    location: [''],\n    onlineLink: [''],\n    participants: [[] as string[]],       // emails\n  });\n\n  constructor(\n    private fb: FormBuilder,\n    private auth: AuthService,\n    private scheduler: SchedulerService\n  ) {}\n\n  ngOnInit(): void {\n    this.auth.user$.subscribe(u => {\n      this.me = u;\n      this.users = this.auth.listUsers();\n      // include me by default\n      if (u && (this.participantsValue().length === 0)) {\n        this.form.controls.participants.setValue([u.email]);\n      }\n    });\n  }\n\n  // ----- helpers for participants control -----\n  participantsValue(): string[] {\n    return (this.form.controls.participants.value as string[]) ?? [];\n  }\n\n  isSelected(email: string): boolean {\n    return this.participantsValue().includes(email);\n  }\n\n  onToggleParticipant(email: string, event: Event) {\n    const checked = (event.target as HTMLInputElement)?.checked ?? false;\n    const list = [...this.participantsValue()];\n\n    if (checked) {\n      if (!list.includes(email)) list.push(email);\n    } else {\n      const idx = list.indexOf(email);\n      if (idx >= 0) list.splice(idx, 1);\n    }\n\n    this.form.controls.participants.setValue(list);\n  }\n  // -------------------------------------------\n\n  submit() {\n    this.error = '';\n    this.success = '';\n    if (!this.me) { this.error = 'Not authenticated.'; return; }\n    if (this.form.invalid) { this.form.markAllAsTouched(); return; }\n\n    const v = this.form.getRawValue();\n    const start = isoFrom(v.date!, v.startTime!);\n    const end   = isoFrom(v.date!, v.endTime!);\n    const payload = {\n      title: v.title!.trim(),\n      description: v.description?.trim() || '',\n      start, end,\n      location: v.location?.trim() || null,\n      onlineLink: v.onlineLink?.trim() || null,\n      participants: this.participantsValue().length ? this.participantsValue() : [this.me.email],\n      createdBy: this.me.email,\n    };\n\n    const res = this.scheduler.create(payload);\n    if (!res.ok) { this.error = res.error || 'Failed to create meeting.'; return; }\n    this.success = 'Meeting scheduled.';\n    this.form.reset({ participants: [this.me.email] });\n    this.created.emit();\n  }\n}\n\n/* helpers */\nfunction isoFrom(date: string, time: string): string {\n  const [h, m] = time.split(':').map(Number);\n  const d = new Date(date);\n  d.setHours(h, m, 0, 0);\n  const yyyy = d.getFullYear();\n  const mm = String(d.getMonth() + 1).padStart(2, '0');\n  const dd = String(d.getDate()).padStart(2, '0');\n  const hh = String(d.getHours()).padStart(2, '0');\n  const mi = String(d.getMinutes()).padStart(2, '0');\n  return `${yyyy}-${mm}-${dd}T${hh}:${mi}:00`;\n}\n","<div class=\"rounded-xl border p-4\">\n    <h2 class=\"text-lg font-semibold mb-3\">Schedule a meeting</h2>\n  \n    <form [formGroup]=\"form\" (ngSubmit)=\"submit()\" class=\"grid gap-4 md:grid-cols-2\" novalidate>\n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium mb-1\">Title</label>\n        <input type=\"text\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"title\" />\n        <div class=\"text-sm text-red-600\" *ngIf=\"form.controls.title.touched && form.controls.title.invalid\">\n          Title is required (min 3 chars).\n        </div>\n      </div>\n  \n      <div>\n        <label class=\"block text-sm font-medium mb-1\">Date</label>\n        <input type=\"date\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"date\" />\n      </div>\n  \n      <div>\n        <label class=\"block text-sm font-medium mb-1\">Start</label>\n        <input type=\"time\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"startTime\" />\n      </div>\n  \n      <div>\n        <label class=\"block text-sm font-medium mb-1\">End</label>\n        <input type=\"time\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"endTime\" />\n      </div>\n  \n      <div>\n        <label class=\"block text-sm font-medium mb-1\">Location</label>\n        <input type=\"text\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"location\" placeholder=\"e.g., Room A\" />\n      </div>\n  \n      <div>\n        <label class=\"block text-sm font-medium mb-1\">Online link</label>\n        <input type=\"url\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"onlineLink\" placeholder=\"https://…\" />\n      </div>\n  \n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium mb-1\">Participants</label>\n        <div class=\"grid sm:grid-cols-2 md:grid-cols-3 gap-2\">\n          <label *ngFor=\"let u of users\" class=\"flex items-center gap-2 text-sm border rounded-lg p-2\">\n            <input\n              type=\"checkbox\"\n              [value]=\"u.email\"\n              [checked]=\"isSelected(u.email)\"\n              (change)=\"onToggleParticipant(u.email, $event)\"\n            />\n            <span>\n              {{ u.name }}\n              <span class=\"text-gray-500\">({{ u.email }})</span>\n            </span>\n          </label>\n        </div>\n        <p class=\"text-xs text-gray-500 mt-1\">You’re automatically included when creating a meeting.</p>\n      </div>\n  \n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium mb-1\">Description</label>\n        <textarea rows=\"3\" class=\"w-full border rounded-lg px-3 py-2\" formControlName=\"description\"></textarea>\n      </div>\n  \n      <div *ngIf=\"error\" class=\"md:col-span-2 rounded-md border border-red-200 bg-red-50 p-3 text-red-700\">\n        {{ error }}\n      </div>\n      <div *ngIf=\"success\" class=\"md:col-span-2 rounded-md border border-green-200 bg-green-50 p-3 text-green-800\">\n        {{ success }}\n      </div>\n  \n      <div class=\"md:col-span-2\">\n        <button type=\"submit\" class=\"rounded-lg bg-black text-white px-4 py-2\">Create meeting</button>\n      </div>\n    </form>\n  </div>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}