<div class="mx-auto max-w-3xl p-4 sm:p-6">
  <h1 class="text-2xl font-semibold mb-4">{{ isEdit ? 'Edit Post' : 'New Post' }}</h1>

  <form [formGroup]="form" class="space-y-4" (ngSubmit)="save()">
    <div>
      <label class="block text-sm font-medium mb-1">Title</label>
      <input class="w-full border rounded-lg px-3 py-2" type="text" formControlName="title" />
      <div class="text-sm text-red-600" *ngIf="form.controls.title.touched && form.controls.title.invalid">
        Title is required (min 3 chars).
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Slug (optional)</label>
      <input class="w-full border rounded-lg px-3 py-2" type="text" formControlName="slug" placeholder="auto-generated from title if blank" />
    </div>

    <div class="grid sm:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium mb-1">Author</label>
        <input class="w-full border rounded-lg px-3 py-2" type="text" formControlName="author" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Tags (comma-separated)</label>
        <input class="w-full border rounded-lg px-3 py-2" type="text" formControlName="tags" placeholder="e.g. union, update" />
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Body</label>
      <textarea class="w-full border rounded-lg px-3 py-2 h-56" formControlName="body"></textarea>
      <div class="text-sm text-red-600" *ngIf="form.controls.body.touched && form.controls.body.invalid">
        Body is required (min 5 chars).
      </div>
    </div>

    <div class="flex items-center gap-2">
      <input id="published" type="checkbox" formControlName="published" class="h-4 w-4" />
      <label for="published" class="text-sm">Published</label>
    </div>

    <div class="flex gap-2 pt-2">
      <button type="submit" class="px-4 py-2 rounded bg-black text-white">Save</button>
      <button type="button" class="px-4 py-2 rounded border" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
