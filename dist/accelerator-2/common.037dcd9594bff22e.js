"use strict";(self.webpackChunkaccelerator_2=self.webpackChunkaccelerator_2||[]).push([[76],{9629:(A,h,c)=>{c.d(h,{c:()=>y});var m=c(4412),f=c(4438);const g="apwu_blog_posts_v1";function n(s){return s.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}let y=(()=>{class s{constructor(){this._posts$=new m.t(function S(){const s=localStorage.getItem(g);if(s)try{const t=JSON.parse(s);if(Array.isArray(t))return t}catch{}const p=[{id:crypto.randomUUID(),slug:"welcome-to-apwu-austin",title:"Welcome to APWU Austin",body:"This is your new blog. Edit or create posts from the Editor.",author:"APWU Austin",tags:["welcome"],publishedAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),published:!0},{id:crypto.randomUUID(),slug:"monthly-meeting-reminder",title:"Monthly Meeting Reminder",body:"Our monthly meeting is the first Thursday at 6pm.",author:"Secretary",tags:["meetings","reminder"],publishedAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),published:!0}];return localStorage.setItem(g,JSON.stringify(p)),p}()),this.posts$=this._posts$.asObservable()}save(t){localStorage.setItem(g,JSON.stringify(t)),this._posts$.next(t)}list(){return this._posts$.getValue().slice().sort((t,e)=>(e.publishedAt??"").localeCompare(t.publishedAt??""))}getBySlug(t){return this._posts$.getValue().find(e=>e.slug===t)}create(t){const e=(new Date).toISOString(),o=t.slug?.trim()?n(t.slug):n(t.title),i=this._posts$.getValue();let r=o,l=1;for(;i.some(d=>d.slug===r);)r=`${o}-${l++}`;const a={id:crypto.randomUUID(),slug:r,title:t.title,body:t.body,author:t.author,tags:t.tags??[],publishedAt:e,updatedAt:e,published:!!t.published};return this.save([a,...i]),a}update(t,e){const o=this._posts$.getValue(),i=o.findIndex(u=>u.slug===t);if(i<0)return;const r=o[i];let l=r.slug;if(void 0!==e.slug||void 0!==e.title){const u=e.slug?.trim()?n(e.slug):e.title?n(e.title):r.slug;if(u!==r.slug){l=u;let _=1;for(;o.some((b,w)=>w!==i&&b.slug===l);)l=`${u}-${_++}`}}const a={...r,...e,slug:l,updatedAt:(new Date).toISOString()},d=o.slice();return d[i]=a,this.save(d),a}delete(t){const e=this._posts$.getValue().filter(o=>o.slug!==t);this.save(e)}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275prov=f.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()}}]);