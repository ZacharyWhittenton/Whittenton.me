"use strict";(self.webpackChunkaccelerator_2=self.webpackChunkaccelerator_2||[]).push([[592],{3592:(x,l,s)=>{s.r(l),s.d(l,{AccountModule:()=>k});var m=s(177),r=s(4341),a=s(7046),e=s(4438),c=s(8010);function u(t,d){1&t&&(e.j41(0,"div",13),e.EFF(1," Name is required (min 2 chars). "),e.k0s())}function p(t,d){1&t&&(e.j41(0,"div",13),e.EFF(1," Enter a valid email. "),e.k0s())}function f(t,d){if(1&t&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.SpI(" ",o.error," ")}}function h(t,d){if(1&t&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.SpI(" ",o.success," ")}}let g=(()=>{class t{constructor(o,n,i){this.fb=o,this.auth=n,this.router=i,this.loading=!1,this.error="",this.success="",this.form=this.fb.group({name:["",[r.k0.required,r.k0.minLength(2)]],email:["",[r.k0.required,r.k0.email]],dob:[""],phone:[""]})}ngOnInit(){const o=this.auth.user;o&&this.form.patchValue({name:o.name??"",email:o.email??"",dob:o.dob??"",phone:o.phone??""})}save(){if(this.error="",this.success="",this.form.invalid)return void this.form.markAllAsTouched();this.loading=!0;const o=this.form.getRawValue(),n=this.auth.updateProfile({name:o.name.trim(),email:o.email.trim(),dob:o.dob||null,phone:o.phone||null});this.loading=!1,n.ok?this.success="Profile saved.":this.error=n.error||"Failed to update profile."}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(r.ok),e.rXU(c.u),e.rXU(a.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-account"]],decls:27,vars:7,consts:[[1,"mx-auto","max-w-xl","p-6"],[1,"text-2xl","font-semibold","mb-4"],["novalidate","",1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","mb-1"],["type","text","formControlName","name",1,"w-full","border","rounded-lg","px-3","py-2"],["class","text-sm text-red-600",4,"ngIf"],["type","email","formControlName","email",1,"w-full","border","rounded-lg","px-3","py-2"],[1,"grid","sm:grid-cols-2","gap-4"],["type","date","formControlName","dob",1,"w-full","border","rounded-lg","px-3","py-2"],["type","tel","formControlName","phone","placeholder","555-123-4567",1,"w-full","border","rounded-lg","px-3","py-2"],["class","rounded-md border border-red-200 bg-red-50 p-3 text-red-700",4,"ngIf"],["class","rounded-md border border-green-200 bg-green-50 p-3 text-green-800",4,"ngIf"],["type","submit",1,"rounded-lg","bg-black","text-white","px-4","py-2",3,"disabled"],[1,"text-sm","text-red-600"],[1,"rounded-md","border","border-red-200","bg-red-50","p-3","text-red-700"],[1,"rounded-md","border","border-green-200","bg-green-50","p-3","text-green-800"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"My Account"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return i.save()}),e.j41(4,"div")(5,"label",3),e.EFF(6,"Name"),e.k0s(),e.nrm(7,"input",4),e.DNE(8,u,2,0,"div",5),e.k0s(),e.j41(9,"div")(10,"label",3),e.EFF(11,"Email"),e.k0s(),e.nrm(12,"input",6),e.DNE(13,p,2,0,"div",5),e.k0s(),e.j41(14,"div",7)(15,"div")(16,"label",3),e.EFF(17,"Date of Birth"),e.k0s(),e.nrm(18,"input",8),e.k0s(),e.j41(19,"div")(20,"label",3),e.EFF(21,"Phone Number"),e.k0s(),e.nrm(22,"input",9),e.k0s()(),e.DNE(23,f,2,1,"div",10)(24,h,2,1,"div",11),e.j41(25,"button",12),e.EFF(26),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",i.form),e.R7$(5),e.Y8G("ngIf",i.form.controls.name.touched&&i.form.controls.name.invalid),e.R7$(5),e.Y8G("ngIf",i.form.controls.email.touched&&i.form.controls.email.invalid),e.R7$(10),e.Y8G("ngIf",i.error),e.R7$(),e.Y8G("ngIf",i.success),e.R7$(),e.Y8G("disabled",i.loading),e.R7$(),e.SpI(" ",i.loading?"Saving\u2026":"Save changes"," "))},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD]})}}return t})();const v=[{path:"",canActivate:[s(4978).q],component:g}];let F=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[a.iI.forChild(v),a.iI]})}}return t})(),k=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[m.MD,r.YN,r.X1,a.iI,F]})}}return t})()}}]);