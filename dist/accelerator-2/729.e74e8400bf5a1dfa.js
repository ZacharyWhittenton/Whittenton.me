"use strict";(self.webpackChunkaccelerator_2=self.webpackChunkaccelerator_2||[]).push([[729],{7729:(I,u,a)=>{a.r(u),a.d(u,{AuthModule:()=>x});var d=a(177),r=a(4341),s=a(7046),e=a(4438);let f=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(n,o){1&n&&e.nrm(0,"router-outlet")},dependencies:[s.n3]})}}return t})();var c=a(8010);function h(t,l){1&t&&(e.j41(0,"div",16),e.EFF(1," Enter a valid email. "),e.k0s())}function g(t,l){1&t&&(e.j41(0,"div",16),e.EFF(1," Password is required (min 3 chars). "),e.k0s())}function b(t,l){if(1&t&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.SpI(" ",i.error," ")}}function k(t,l){1&t&&(e.j41(0,"div",17),e.EFF(1," Name is required (min 2 chars). "),e.k0s())}function F(t,l){1&t&&(e.j41(0,"div",17),e.EFF(1," Enter a valid email. "),e.k0s())}function w(t,l){1&t&&(e.j41(0,"div",17),e.EFF(1," Password is required (min 3 chars). "),e.k0s())}function y(t,l){1&t&&(e.j41(0,"div",17),e.EFF(1," Passwords do not match. "),e.k0s())}function E(t,l){if(1&t&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.SpI(" ",i.error," ")}}function C(t){return l=>{const i=l.parent;if(!i)return null;const n=i.get(t);return n?l.value===n.value?null:{mismatch:!0}:null}}const j=[{path:"",component:f,children:[{path:"login",component:(()=>{class t{constructor(i,n,o,m){this.fb=i,this.route=n,this.router=o,this.auth=m,this.loading=!1,this.error="",this.returnUrl="/",this.form=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(3)]],role:["Member"]})}ngOnInit(){const i=this.route.snapshot.queryParamMap.get("returnUrl");i&&(this.returnUrl=i)}submit(){if(this.error="",this.form.invalid)return void this.form.markAllAsTouched();this.loading=!0;const i=this.form.getRawValue(),n=this.auth.login(i.email,i.password,i.role??"Member");this.loading=!1,n?this.router.navigateByUrl(this.returnUrl):this.error="Invalid credentials"}quickAdmin(){this.auth.loginAsAdmin()&&this.router.navigateByUrl(this.returnUrl)}quickMember(){this.auth.loginAsMember()&&this.router.navigateByUrl(this.returnUrl)}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(r.ok),e.rXU(s.nX),e.rXU(s.Ix),e.rXU(c.u))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],decls:33,vars:6,consts:[[1,"mx-auto","max-w-md","p-6"],[1,"text-2xl","font-semibold","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","mb-1"],["type","email","formControlName","email",1,"w-full","border","rounded-lg","px-3","py-2"],["class","text-sm text-red-600",4,"ngIf"],["type","password","formControlName","password",1,"w-full","border","rounded-lg","px-3","py-2"],["formControlName","role",1,"w-full","border","rounded-lg","px-3","py-2"],["value","Member"],["value","Admin"],["class","rounded-md border border-red-200 bg-red-50 p-3 text-red-700",4,"ngIf"],["type","submit",1,"w-full","rounded-lg","bg-black","text-white","py-2",3,"disabled"],[1,"mt-4","flex","flex-wrap","items-center","justify-between","gap-2"],[1,"flex","gap-2"],[1,"px-3","py-2","rounded","border",3,"click"],["routerLink","/auth/register",1,"underline"],[1,"text-sm","text-red-600"],[1,"rounded-md","border","border-red-200","bg-red-50","p-3","text-red-700"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Sign in"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return o.submit()}),e.j41(4,"div")(5,"label",3),e.EFF(6,"Email"),e.k0s(),e.nrm(7,"input",4),e.DNE(8,h,2,0,"div",5),e.k0s(),e.j41(9,"div")(10,"label",3),e.EFF(11,"Password"),e.k0s(),e.nrm(12,"input",6),e.DNE(13,g,2,0,"div",5),e.k0s(),e.j41(14,"div")(15,"label",3),e.EFF(16,"Role"),e.k0s(),e.j41(17,"select",7)(18,"option",8),e.EFF(19,"Member"),e.k0s(),e.j41(20,"option",9),e.EFF(21,"Admin"),e.k0s()()(),e.DNE(22,b,2,1,"div",10),e.j41(23,"button",11),e.EFF(24),e.k0s()(),e.j41(25,"div",12)(26,"div",13)(27,"button",14),e.bIt("click",function(){return o.quickMember()}),e.EFF(28,"Quick: Member"),e.k0s(),e.j41(29,"button",14),e.bIt("click",function(){return o.quickAdmin()}),e.EFF(30,"Quick: Admin"),e.k0s()(),e.j41(31,"a",15),e.EFF(32,"Create an account"),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",o.form),e.R7$(5),e.Y8G("ngIf",o.form.controls.email.touched&&o.form.controls.email.invalid),e.R7$(5),e.Y8G("ngIf",o.form.controls.password.touched&&o.form.controls.password.invalid),e.R7$(9),e.Y8G("ngIf",o.error),e.R7$(),e.Y8G("disabled",o.loading),e.R7$(),e.SpI(" ",o.loading?"Signing in\u2026":"Sign in"," "))},dependencies:[d.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.j4,r.JD,s.Wk]})}}return t})()},{path:"register",component:(()=>{class t{constructor(i,n,o,m){this.fb=i,this.router=n,this.route=o,this.auth=m,this.loading=!1,this.error="",this.returnUrl="/",this.form=this.fb.group({name:["",[r.k0.required,r.k0.minLength(2)]],email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(3)]],confirmPassword:["",[r.k0.required,C("password")]],role:["Member"]});const p=this.route.snapshot.queryParamMap.get("returnUrl");p&&(this.returnUrl=p)}submit(){if(this.error="",this.form.invalid)return void this.form.markAllAsTouched();this.loading=!0;const i=this.form.getRawValue(),n=this.auth.register({name:i.name.trim(),email:i.email.trim(),password:i.password,role:i.role??"Member"});this.loading=!1,n.ok?this.router.navigateByUrl(this.returnUrl):this.error=n.error||"Registration failed."}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(r.ok),e.rXU(s.Ix),e.rXU(s.nX),e.rXU(c.u))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],decls:40,vars:8,consts:[[1,"mx-auto","max-w-md","p-6"],[1,"text-2xl","font-semibold","mb-4"],["novalidate","",1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","mb-1"],["type","text","formControlName","name",1,"w-full","border","rounded-lg","px-3","py-2"],["class","text-sm text-red-600",4,"ngIf"],["type","email","formControlName","email",1,"w-full","border","rounded-lg","px-3","py-2"],[1,"grid","sm:grid-cols-2","gap-4"],["type","password","formControlName","password",1,"w-full","border","rounded-lg","px-3","py-2"],["type","password","formControlName","confirmPassword",1,"w-full","border","rounded-lg","px-3","py-2"],["formControlName","role",1,"w-full","border","rounded-lg","px-3","py-2"],["value","Member"],["value","Admin"],["class","rounded-md border border-red-200 bg-red-50 p-3 text-red-700",4,"ngIf"],["type","submit",1,"w-full","rounded-lg","bg-black","text-white","py-2",3,"disabled"],[1,"mt-3","text-sm"],["routerLink","/auth/login",1,"underline"],[1,"text-sm","text-red-600"],[1,"rounded-md","border","border-red-200","bg-red-50","p-3","text-red-700"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Create account"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return o.submit()}),e.j41(4,"div")(5,"label",3),e.EFF(6,"Name"),e.k0s(),e.nrm(7,"input",4),e.DNE(8,k,2,0,"div",5),e.k0s(),e.j41(9,"div")(10,"label",3),e.EFF(11,"Email"),e.k0s(),e.nrm(12,"input",6),e.DNE(13,F,2,0,"div",5),e.k0s(),e.j41(14,"div",7)(15,"div")(16,"label",3),e.EFF(17,"Password"),e.k0s(),e.nrm(18,"input",8),e.DNE(19,w,2,0,"div",5),e.k0s(),e.j41(20,"div")(21,"label",3),e.EFF(22,"Confirm password"),e.k0s(),e.nrm(23,"input",9),e.DNE(24,y,2,0,"div",5),e.k0s()(),e.j41(25,"div")(26,"label",3),e.EFF(27,"Role"),e.k0s(),e.j41(28,"select",10)(29,"option",11),e.EFF(30,"Member"),e.k0s(),e.j41(31,"option",12),e.EFF(32,"Admin"),e.k0s()()(),e.DNE(33,E,2,1,"div",13),e.j41(34,"button",14),e.EFF(35),e.k0s(),e.j41(36,"p",15),e.EFF(37," Already have an account? "),e.j41(38,"a",16),e.EFF(39,"Sign in"),e.k0s()()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",o.form),e.R7$(5),e.Y8G("ngIf",o.form.controls.name.touched&&o.form.controls.name.invalid),e.R7$(5),e.Y8G("ngIf",o.form.controls.email.touched&&o.form.controls.email.invalid),e.R7$(6),e.Y8G("ngIf",o.form.controls.password.touched&&o.form.controls.password.invalid),e.R7$(5),e.Y8G("ngIf",o.form.controls.confirmPassword.touched&&(null==o.form.controls.confirmPassword.errors?null:o.form.controls.confirmPassword.errors.mismatch)),e.R7$(9),e.Y8G("ngIf",o.error),e.R7$(),e.Y8G("disabled",o.loading),e.R7$(),e.SpI(" ",o.loading?"Creating account\u2026":"Create account"," "))},dependencies:[d.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.j4,r.JD,s.Wk]})}}return t})()},{path:"",pathMatch:"full",redirectTo:"login"}]}];let R=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[s.iI.forChild(j),s.iI]})}}return t})(),x=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[d.MD,r.YN,r.X1,s.iI,R]})}}return t})()}}]);